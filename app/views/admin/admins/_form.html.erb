<% if @admin.errors.any? %>
  <div class="form-errors">
    <h4><%= pluralize(@admin.errors.count, "个") %>错误:</h4>
    <ul>
      <% @admin.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @admin, url: @admin.new_record? ? admin_admins_path : admin_admin_path(@admin), method: @admin.new_record? ? :post : :patch, local: true do |f| %>
  <div class="form-group">
    <%= f.label :name, "姓名" %>
    <%= f.text_field :name, required: true %>
  </div>

  <div class="form-group">
    <%= f.label :email, "邮箱" %>
    <%= f.email_field :email, required: true %>
  </div>

  <div class="form-group">
    <%= f.label :password, @admin.new_record? ? "密码" : "新密码（留空表示不修改）" %>
    <%= f.password_field :password, required: @admin.new_record? %>
  </div>

  <div class="form-group">
    <%= f.label :password_confirmation, "确认密码" %>
    <%= f.password_field :password_confirmation, required: @admin.new_record? %>
  </div>

  <div class="modal-footer">
    <%= f.submit @admin.new_record? ? "创建" : "更新", class: "btn" %>
    <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
  </div>
<% end %>
